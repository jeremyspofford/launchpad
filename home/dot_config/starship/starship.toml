# Starship prompt configuration - Powerline style with cloud provider support

"$schema" = 'https://starship.rs/config-schema.json'

# Inserts a blank line between shell prompts
add_newline = true

# Powerline-style prompt with cloud context
format = """
[](fg:blue)\
$username\
[](fg:blue bg:purple)\
$directory\
[](fg:purple bg:yellow)\
$git_branch\
$git_status\
[](fg:yellow bg:green)\
$aws\
$gcloud\
$azure\
[](fg:green bg:bright-black)\
$nodejs\
$python\
$rust\
$golang\
$docker_context\
[](fg:bright-black)\
$fill\
$cmd_duration\
$line_break\
$character"""

# Disable right format for powerline style
right_format = ""

# Fill module for spacing
[fill]
symbol = " "

# Character module - prompt symbol
[character]
success_symbol = "[➜](bold green)"
error_symbol = "[➜](bold red)"

# Username
[username]
style_user = "bg:blue fg:black"
style_root = "bg:blue fg:red"
format = "[ $user ]($style)"
disabled = false
show_always = true

# Hostname
[hostname]
ssh_only = true
format = "[@$hostname](bold blue) "
disabled = false

# Directory
[directory]
style = "bg:purple fg:black"
format = "[ $path ]($style)"
truncation_length = 3
truncation_symbol = "…/"
truncate_to_repo = true

[directory.substitutions]
"Documents" = "󰈙 "
"Downloads" = " "
"Music" = " "
"Pictures" = " "

# Git
[git_branch]
symbol = " "
style = "bg:yellow fg:black"
format = "[ $symbol$branch ]($style)"

[git_status]
style = "bg:yellow fg:black"
format = '[$all_status$ahead_behind]($style)'
conflicted = "="
ahead = "⇡${count}"
behind = "⇣${count}"
diverged = "⇕"
untracked = "?"
stashed = "$"
modified = "!"
staged = "+"
renamed = "»"
deleted = "✘"

# Command duration
[cmd_duration]
min_time = 2_000
format = "[$duration](bold yellow)"

# Cloud Providers
[aws]
symbol = "  "
style = "bg:green fg:black"
format = '[ $symbol$profile(\($region\))]($style)'

[gcloud]
symbol = "☁️  "
style = "bg:green fg:black"
format = '[ $symbol$account(@$domain)(\($region\))]($style)'

[azure]
symbol = "󰠅  "
style = "bg:green fg:black"
format = '[ $symbol($subscription)]($style)'
disabled = false

# Languages
[nodejs]
symbol = " "
style = "bg:bright-black fg:green"
format = "[ $symbol$version ]($style)"

[rust]
symbol = " "
style = "bg:bright-black fg:red"
format = "[ $symbol$version ]($style)"

[python]
symbol = " "
style = "bg:bright-black fg:yellow"
format = '[ $symbol$version(\($virtualenv\)) ]($style)'

[golang]
symbol = " "
style = "bg:bright-black fg:cyan"
format = "[ $symbol$version ]($style)"

[docker_context]
symbol = " "
style = "bg:bright-black fg:blue"
format = "[ $symbol$context ]($style)"
only_with_files = true